version: "3"
services:
  redis:
    image: redis
    command: redis-server
    container_name: redis
    environment:
      - discovery.type=single-node
    ports:
      - 6379:6379
    
  modelserver:
    image: apoorv2048/modelserver
    depends_on:
      - redis
    container_name: modelserver
    
  webserver:
    image: dhanushkamath/disml-fastapi:1.0.1
    depends_on:
      - redis
      - modelserver
    ports:
      - 8000:8000